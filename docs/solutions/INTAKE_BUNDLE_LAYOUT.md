# ClubOS Intake Bundle Layout

Copyright (c) Santa Barbara Newcomers Club. All rights reserved.

---

## Purpose

This document defines the canonical folder structure for a client intake bundle. Every solutions engagement must use this structure to ensure consistent validation, handoff, and auditability.

---

## Folder Structure

```
intake/[ORGNAME]/
├── intake.json                    # Primary structured intake (REQUIRED)
├── exports/                       # Client-provided data exports
│   ├── [ORGNAME]_MemberExport_[YYYYMMDD].csv
│   ├── [ORGNAME]_EventHistory_[YYYYMMDD].csv
│   └── [ORGNAME]_FinancialExport_[YYYYMMDD].csv
├── policies/                      # Client-provided policy documents
│   ├── [ORGNAME]_MembershipPolicy_[YYYYMMDD].pdf
│   ├── [ORGNAME]_Bylaws_[YYYYMMDD].pdf
│   └── [ORGNAME]_DataRetention_[YYYYMMDD].pdf
├── workbook/                      # Completed intake workbook
│   └── [ORGNAME]_IntakeWorkbook_[YYYYMMDD].md
├── validation/                    # Validation reports (generated)
│   └── validation_[YYYYMMDD_HHMMSS].txt
├── decisions/                     # Decision memos requiring client input
│   └── DECISION_[TOPIC]_[YYYYMMDD].md
└── README.md                      # Bundle manifest and status
```

---

## File Naming Convention

All files must follow this pattern:

```
[ORGNAME]_[DOCTYPE]_[YYYYMMDD].[ext]
```

| Component | Description | Example |
|-----------|-------------|---------|
| `ORGNAME` | Short org identifier (uppercase, no spaces) | `SBNC` |
| `DOCTYPE` | Document type | `MemberExport`, `IntakeWorkbook` |
| `YYYYMMDD` | Date created/exported | `20251215` |
| `ext` | File extension | `.csv`, `.json`, `.md`, `.pdf` |

**Examples:**

- `SBNC_MemberExport_20251215.csv`
- `SBNC_IntakeWorkbook_20251215.md`
- `SBNC_Bylaws_20251201.pdf`

---

## intake.json

The `intake.json` file is the primary structured intake document. It must:

1. Be located at the bundle root
2. Validate against `INTAKE_SCHEMA.json`
3. Be created before any implementation work begins

### Minimum Required Fields

```json
{
  "org": {
    "name": "Organization Name",
    "timezone": "America/Los_Angeles"
  },
  "contacts": {
    "systemOwner": {
      "name": "Contact Name",
      "email": "contact@example.org"
    }
  },
  "dataSources": {
    "memberExport": {
      "type": "csv",
      "locationRef": "exports/ORGNAME_MemberExport_YYYYMMDD.csv"
    }
  },
  "successCriteria": {
    "goLiveDefinition": "All active members migrated and able to log in."
  }
}
```

---

## Subdirectory Requirements

### exports/

Contains raw data exports from the client's source system(s).

- At minimum: member data export
- Preferred formats: CSV, JSON
- Each file must be named per convention
- Record count should be noted in intake.json

### policies/

Contains policy documents that affect system configuration.

- Membership tier definitions
- Bylaws (if relevant to permissions)
- Data retention policies
- Privacy policies

### workbook/

Contains the completed intake workbook (markdown format).

- One workbook per engagement
- Used to populate intake.json

### validation/

Generated by `run_intake_validation.sh`.

- Contains timestamped validation reports
- Do not edit manually; re-run validation instead

### decisions/

Contains decision memos created during intake analysis.

- Follow DECISION_MEMO_TEMPLATE.md format
- Track decisions that require client input

---

## Bundle README Template

Each bundle should include a README.md:

```markdown
# [ORGNAME] Intake Bundle

Created: YYYY-MM-DD
Status: [Collecting | Validating | Ready | In Progress | Complete]

## Contents

- [ ] intake.json - Validated
- [ ] exports/MemberExport - N records
- [ ] exports/EventHistory - N records (optional)
- [ ] policies/MembershipPolicy
- [ ] workbook/IntakeWorkbook - Completed

## Open Items

- List any missing materials or pending decisions

## Validation History

| Date | Result | Notes |
|------|--------|-------|
| YYYY-MM-DD | PASS/WARN/FAIL | Details |
```

---

## Validation

Run validation using the shell script:

```bash
./scripts/solutions/run_intake_validation.sh intake/[ORGNAME]/intake.json
```

This will:

1. Validate intake.json against the schema
2. Check for required fields
3. Scan for red flags
4. Write a timestamped report to `validation/`

---

## Security Notes

- Intake bundles may contain PII (member names, emails)
- Do not commit bundles to version control
- Use secure file transfer for client uploads
- Store bundles in a location with appropriate access controls

---

## See Also

- [INTAKE_SCHEMA.json](./INTAKE_SCHEMA.json) - Schema definition
- [INTAKE_SCHEMA_GUIDE.md](./INTAKE_SCHEMA_GUIDE.md) - Field requirements
- [templates/INTAKE_WORKBOOK.md](./templates/INTAKE_WORKBOOK.md) - Discovery questionnaire
- [templates/DATA_EXPORT_REQUESTS.md](./templates/DATA_EXPORT_REQUESTS.md) - Export instructions
